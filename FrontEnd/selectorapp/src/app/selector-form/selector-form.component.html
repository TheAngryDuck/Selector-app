<div class="container">

    <h1>User Registration form</h1>

    <form #formDto = "ngForm" (ngSubmit)="submit(formDto)">

        <div class="form-group">

            <label for="name">Name</label><br>

            <input required minlength="2" type="text" name="name" class = "form-control" [(ngModel)]="model.name" #name="ngModel" ngModel>

            <div *ngIf="name.touched && name.invalid" class="alert alert-danger">

                <p *ngIf="name.errors?.['required']">Name Required!</p>

                <p *ngIf="name.errors?.['minlength']">Sorry! Name is too short</p>

            </div>
        </div>

        <pre></pre>

        <h3>Selectors</h3>
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
        <li class="mat-tree-node">
            <mat-checkbox class="checklist-leaf-node" (change)="itemToggle($event.checked,node)" [checked]="node.selected"
        >{{node.name}}</mat-checkbox>
        </li>
        </mat-tree-node>
        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <div class="mat-tree-node">
            <button mat-icon-button matTreeNodeToggle type='button'
                    [attr.aria-label]="'Toggle ' + node.name">
                <mat-icon class="mat-icon-rtl-mirror">
                {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
            </button>
            {{node.name}}
            </div>
            <div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
                role="group">
            <ng-container matTreeNodeOutlet></ng-container>
        </div>
        </mat-nested-tree-node>
        </mat-tree>

        <pre></pre>

        <div class="form-group">

            <label for="agreeTermsConditions">Agree to terms</label><br>

            <input required type="checkbox" name="agreeTermsConditions" class = "form-control" [(ngModel)]="model.agreeTermsConditions" #check="ngModel" ngModel>

            <div *ngIf="check.touched && check.invalid" class="alert alert-danger">

                <p *ngIf="check.errors?.['required']">agreement is Required!</p>

            </div>
        </div>

        <pre></pre>
            <button class="btn btn-primary" type="submit">{{saveButtonText}}</button>
            <br>
            <br>
    </form>
        <div [hidden]="userId == 0">
            <button class="btn btn-primary" type="button" (click)="resetId()">Add New</button>
        </div>
</div>